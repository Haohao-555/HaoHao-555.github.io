(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{478:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前端项目编程规范化配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端项目编程规范化配置"}},[t._v("#")]),t._v(" 前端项目编程规范化配置")]),t._v(" "),s("p",[t._v("下述例子主要是从 "),s("strong",[t._v("代码规范化")]),t._v(" 以及 "),s("strong",[t._v("git 提交规范化")]),t._v(" 两方面进行配置。内容很多，请做好心理准备")]),t._v(" "),s("h3",{attrs:{id:"一、代码检测工具-eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、代码检测工具-eslint"}},[t._v("#")]),t._v(" 一、代码检测工具 ESLint")]),t._v(" "),s("blockquote",[s("p",[t._v("在我们通过 vue create “项目名” 时，我们可以通过手动配置的方式，来配置 ESLint 来对代码进行检测。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Pick a linter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" formatter config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" \n  ESLint "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" error prevention only "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 仅包含错误的 ESLint")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Airbnb config "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Airbnb 的 ESLint 延伸规则")]),t._v("\n  ESLint "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Standard config "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标准的 ESLint 规则")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("p",[t._v("当我们配置了 标准的 ESLint 规则后，在项目根目录下会生成 "),s("strong",[t._v(".eslintrc.js")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 配置文件遵循 commonJS 的导出规则，所导出的对象就是 ESLint 的配置对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档：https://eslint.bootcss.com/docs/user-guide/configuring")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示当前目录即为根目录，ESLint 规则将被限制到该目录下")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// env 表示启用 ESLint 检测的环境")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("env")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 node 环境下启动 ESLint 检测")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ESLint 中基础配置需要继承的配置")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:vue/vue3-essential"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/standard"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析器")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parserOptions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("parser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-eslint"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要修改的启用规则及其各自的错误级别")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n   * 错误级别分为三种：\n   * "off" 或 0 - 关闭规则\n   * "warn" 或 1 - 开启规则，使用警告级别的错误：warn (不会导致程序退出)\n   * "error" 或 2 - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)\n   */')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"no-console"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warn"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"no-debugger"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"warn"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("p",[t._v("当我们配置好 ESLint 规范后，就可以控制好自己的代码格式规范，但出现不符合规范的代码格式时，在运行阶段，ESLint 会在控制台输出提示信息。")]),t._v(" "),s("p",[t._v("但由此也暴露了一些问题，"),s("strong",[t._v("我们并不清楚 ESLint 有哪些规范，当我们出现不符合 ESLint 代码规范时，我们并不知道该怎么解决，那该怎么办？")])]),t._v(" "),s("p",[t._v("接下来：要介绍的另外一个插件就是为了解决上诉问题的。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"二、代码格式化-prettier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、代码格式化-prettier"}},[t._v("#")]),t._v(" 二、代码格式化 Prettier")]),t._v(" "),s("p",[s("strong",[t._v("Prettier 的作用：既可以保证 "),s("code",[t._v("ESLint")]),t._v(" 规则校验，又可以让开发者无需关注格式问题来进行顺畅的开发")])]),t._v(" "),s("p",[t._v("如何使用：")]),t._v(" "),s("ul",[s("li",[t._v("步骤一：在 "),s("code",[t._v("vsCode")]),t._v(" 中 安装 "),s("code",[t._v("prettier")]),t._v(" 插件")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/a2cb2c78806b4c809dded361cd12fdd8.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ul",[s("li",[t._v("步骤二：在项目根目录下新建 "),s("strong",[t._v(".prettierrc")]),t._v(" 文件（该文件为 "),s("code",[t._v("prettier")]),t._v(" 默认配置文件），并写入配置规则")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不尾随分号")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"semi"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用单引号")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"singleQuote"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多行逗号分割的语法中，最后一行不加逗号")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"trailingComma"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("ul",[s("li",[t._v("步骤三：在"),s("code",[t._v("vsCode")]),t._v(" 设置中，搜索 "),s("code",[t._v("save")]),t._v(" ，勾选 "),s("code",[t._v("Format On Save")]),t._v("（目的：保存时对代码进行检测）")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/35901726cae24e9fb7f7d5c065eb5934.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[t._v("到这里就基本配置结束了，但这里会有一个问题，如果我们电脑的 "),s("code",[t._v("VSCode")]),t._v(" 中 安装了多个代码格式化工具时，可能会出现 "),s("code",[t._v("prettier")]),t._v(" 无法对代码进行格式化")]),t._v(" "),s("p",[t._v("解决方法：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/94f811dfdb1947c2b86c4d59572ecaff.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[s("code",[t._v("prettier")]),t._v(" 与 "),s("code",[t._v("ESLint")]),t._v(" 有几个地方会出现冲突（需要同步一下）：")]),t._v(" "),s("ul",[s("li",[t._v("VSCode 而言，默认一个 tab 等于 4 个空格，而 ESLint 希望一个 tab 为两个空格")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/32a74a86b943449b81ba18e1a792e18c.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ul",[s("li",[t._v("定义"),s("strong",[t._v("方法名和后面的小括号之间，得有一个空格！")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/887f101db6a6410c83f546c85d9b1764.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[t._v("出现这种情况可以修改"),s("code",[t._v("ESLint")]),t._v(" 的配置文件（"),s("strong",[t._v(".eslintrc.js")]),t._v("）将这个报错信息给关闭掉")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该规则表示关闭《方法名后增加空格》的规则")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'space-before-function-paren'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("hr"),t._v(" "),s("p",[t._v("tips: 至此我们整个的 "),s("code",[t._v("perttier")]),t._v(" 和 "),s("code",[t._v("ESLint")]),t._v(" 的配合使用就算是全部完成了。到这里，"),s("strong",[t._v("代码规范化")]),t._v(" 已经配置好了。 接下来就是："),s("strong",[t._v("git 提交规范化")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"三、约定式提交规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、约定式提交规范"}},[t._v("#")]),t._v(" 三、约定式提交规范")]),t._v(" "),s("p",[t._v("我们在开发过程中，最常用的项目管理工具主要是 Git 工具。而约定式提交就是针对执行 "),s("code",[t._v('git commit -m "描述信息"')]),t._v(" 时对 ”描述信息“ 进行规范化。")]),t._v(" "),s("p",[t._v("对于 "),s("strong",[s("code",[t._v("Git")]),t._v(" 提交规范")]),t._v(" 来说，不同的团队可能会有不同的标准")]),t._v(" "),s("p",[t._v("目前使用最多的规范： "),s("a",{attrs:{href:"https://www.conventionalcommits.org/zh-hans/v1.0.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conventional Commits specification（约定式提交）"),s("OutboundLink")],1)]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("tips:")]),t._v(" "),s("p",[t._v("下面就已上述的规范进行 "),s("strong",[t._v("Git 提交进行规范化处理")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"四、-commitizen"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、-commitizen"}},[t._v("#")]),t._v(" 四、 Commitizen")]),t._v(" "),s("p",[s("code",[t._v("commitizen")]),t._v(" 仓库名为 "),s("a",{attrs:{href:"https://github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("cz-cli"),s("OutboundLink")],1),t._v(" ，它提供了一个 "),s("code",[t._v("git cz")]),t._v(" 的指令用于代替 "),s("code",[t._v("git commit")]),t._v("，从而对 Git 提交进行规范化处理")]),t._v(" "),s("blockquote",[s("p",[t._v("当你使用 "),s("code",[t._v("commitizen")]),t._v(" 进行代码提交（git commit）时，"),s("code",[t._v("commitizen")]),t._v(" 会提交你在提交时填写所有必需的提交字段！")])]),t._v(" "),s("br"),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("重要的事情说三遍！！！！！")]),t._v(" "),s("br"),t._v(" "),s("p",[t._v("1、由于我们平常要经常要使用到 "),s("strong",[t._v("Commitizen")]),t._v(" 来规范提交代码，建议"),s("strong",[t._v("全局安装")]),t._v("：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/ccae629cdb2e414c8ae9234c4a2fc09f.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[t._v("2、进入到项目中，安装 "),s("strong",[t._v("cz-customizable")]),t._v("（局部，局部，局部）")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm i cz"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("customizable@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.3")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("3、添加下面配置信息到 "),s("strong",[t._v("package.json")]),t._v(" 中")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"config"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commitizen"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules/cz-customizable"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/1e27061f50804567bd19c684821bdeac.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[t._v("4、在项目根目录下创建 "),s("strong",[t._v(".cz-config.js")]),t._v(" 自定义提示文件")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选类型")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("types")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat: 🚀 新功能'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'🚀'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix: 🧩 修复'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'🧩'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs: 📚 文档变更'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'📚'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style: 🎨 代码格式(不影响代码运行的变动)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'🎨'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor: ♻️ 重构(既不是增加feature，也不是修复bug)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'♻️'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf: ⚡️ 性能优化'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'⚡️'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test: ✅ 增加测试'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'✅'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore: 🔨 构建过程或辅助工具的变动'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'🔨'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert: ⏪️ 回退'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'⏪️'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build:📦️ 打包'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("emoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'📦️'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useEmoji")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 消息步骤")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("messages")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请选择提交类型:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customScope")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入修改范围(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subject")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请简要描述提交(必填):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入详细描述(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("footer")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入要关闭的issue(可选):'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("confirmCommit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'确认使用以上信息提交？(y/n/e/h)'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 跳过问题")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("skipQuestions")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'footer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject文字长度默认是72")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subjectLimit")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("72")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("p",[t._v("到这里：我们提交代码时使用 "),s("code",[t._v("git cz")]),t._v(" 来替换 "),s("code",[t._v("git commit")]),t._v(" ，就可以看到提示信息\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/4a5ebe3be9a44d818bcd5d65a2ce98b4.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("tips:")]),t._v(" "),s("p",[t._v("至此 "),s("strong",[t._v("Git提交规范")]),t._v(" 已经配置好了，")]),t._v(" "),s("p",[t._v("但这里也有一个问题："),s("strong",[t._v("如果开发者不使用 "),s("code",[t._v("git cz")]),t._v(" 来提交代码，则我们之前设置的 "),s("code",[t._v("Git提交规范")]),t._v(" 就没有什么作用了")])]),t._v(" "),s("p",[t._v("因此引出下面要讲的 "),s("strong",[t._v("Git Hooks")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"五、git-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、git-hook"}},[t._v("#")]),t._v(" 五、Git Hook")]),t._v(" "),s("p",[t._v("Git Hook ："),s("strong",[t._v("在执行某个事件之前或之后进行一些其他额外的操作")])]),t._v(" "),s("p",[t._v("Git 提供了 二十几条钩子函数")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Git Hook")]),t._v(" "),s("th",[t._v("调用时机")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("pre-applypatch")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("applypatch-msg")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("post-applypatch")]),t._v(" "),s("td",[s("code",[t._v("git am")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git am")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("pre-commit")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("commit-msg")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[t._v("post-commit")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git commit")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",[t._v("pre-merge-commit")]),t._v(" "),s("td",[s("code",[t._v("git merge")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git merge --no-verify")]),t._v("绕过。")])]),t._v(" "),s("tr",[s("td",[t._v("prepare-commit-msg")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后，编辑器打开之前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("pre-rebase")]),t._v(" "),s("td",[s("code",[t._v("git rebase")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("post-checkout")]),t._v(" "),s("td",[s("code",[t._v("git checkout")]),t._v("或"),s("code",[t._v("git switch")]),t._v("执行后")]),t._v(" "),s("td",[t._v("如果不使用"),s("code",[t._v("--no-checkout")]),t._v("参数，则在"),s("code",[t._v("git clone")]),t._v("之后也会执行。")])]),t._v(" "),s("tr",[s("td",[t._v("post-merge")]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行后")]),t._v(" "),s("td",[t._v("在执行"),s("code",[t._v("git pull")]),t._v("时也会被调用")])]),t._v(" "),s("tr",[s("td",[t._v("pre-push")]),t._v(" "),s("td",[s("code",[t._v("git push")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("pre-receive")]),t._v(" "),s("td",[s("code",[t._v("git-receive-pack")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("update")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("post-receive")]),t._v(" "),s("td",[s("code",[t._v("git-receive-pack")]),t._v("执行后")]),t._v(" "),s("td",[t._v("不影响"),s("code",[t._v("git-receive-pack")]),t._v("的结果")])]),t._v(" "),s("tr",[s("td",[t._v("post-update")]),t._v(" "),s("td",[t._v("当 "),s("code",[t._v("git-receive-pack")]),t._v("对 "),s("code",[t._v("git push")]),t._v(" 作出反应并更新仓库中的引用时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("push-to-checkout")]),t._v(" "),s("td",[t._v("当``git-receive-pack"),s("code",[t._v("对")]),t._v("git push"),s("code",[t._v("做出反应并更新仓库中的引用时，以及当推送试图更新当前被签出的分支且")]),t._v("receive.denyCurrentBranch"),s("code",[t._v("配置被设置为")]),t._v("updateInstead`时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("pre-auto-gc")]),t._v(" "),s("td",[s("code",[t._v("git gc --auto")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("post-rewrite")]),t._v(" "),s("td",[t._v("执行"),s("code",[t._v("git commit --amend")]),t._v("或"),s("code",[t._v("git rebase")]),t._v("时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("sendemail-validate")]),t._v(" "),s("td",[s("code",[t._v("git send-email")]),t._v("执行前")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("fsmonitor-watchman")]),t._v(" "),s("td",[t._v("配置"),s("code",[t._v("core.fsmonitor")]),t._v("被设置为"),s("code",[t._v(".git/hooks/fsmonitor-watchman")]),t._v("或"),s("code",[t._v(".git/hooks/fsmonitor-watchmanv2")]),t._v("时")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("p4-pre-submit")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[t._v("p4-prepare-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行后，编辑器启动前")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[t._v("p4-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行并编辑完"),s("code",[t._v("changelist message")]),t._v("后")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git-p4 submit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[t._v("p4-post-changelist")]),t._v(" "),s("td",[s("code",[t._v("git-p4 submit")]),t._v("执行后")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("post-index-change")]),t._v(" "),s("td",[t._v("索引被写入到"),s("code",[t._v("read-cache.c do_write_locked_index")]),t._v("后")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("详细的 "),s("code",[t._v("HOOKS介绍")]),t._v(" 可点击"),s("a",{attrs:{href:"https://git-scm.com/docs/githooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("查看")]),t._v(" "),s("p",[t._v("但针对这里：只要使用到其中俩条 API")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Git Hook")]),t._v(" "),s("th",[t._v("调用时机")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("pre-commit")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前 它不接受任何参数，并且在获取提交日志消息并进行提交之前被调用。脚本"),s("code",[t._v("git commit")]),t._v("以非零状态退出会导致命令在创建提交之前中止。")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("commit-msg")])]),t._v(" "),s("td",[s("code",[t._v("git commit")]),t._v("执行前 可用于将消息规范化为某种项目标准格式。 还可用于在检查消息文件后拒绝提交。")]),t._v(" "),s("td",[t._v("可以用"),s("code",[t._v("git commit --no-verify")]),t._v("绕过")])])])]),t._v(" "),s("p",[t._v("简单来说这两个钩子：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("commit-msg")]),t._v("：可以用来规范化标准格式，并且可以按需指定是否要拒绝本次提交")]),t._v(" "),s("li",[s("code",[t._v("pre-commit")]),t._v("：会在提交前被调用，并且可以按需指定是否要拒绝本次提交")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("tips:")]),t._v(" "),s("p",[t._v("接下来针对 "),s("strong",[t._v("commit-msg")]),t._v("、"),s("strong",[t._v("pre-commit")]),t._v(" 进行 Git 代码提交进行规范化")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"六、husky-commitlint-commit-msg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、husky-commitlint-commit-msg"}},[t._v("#")]),t._v(" 六、husky + commitlint + commit-msg")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),s("OutboundLink")],1),t._v("：用于检查提交信息")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),s("OutboundLink")],1),t._v("：是"),s("code",[t._v("git hooks")]),t._v("工具")])]),t._v(" "),s("br"),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("注：接下的所有操作建议 "),s("strong",[t._v("npm >= 7")])]),t._v(" "),s("p",[t._v("重要的事情说三遍！！！！！")]),t._v(" "),s("br"),t._v(" "),s("p",[t._v("1、"),s("strong",[t._v("commitlist")])]),t._v(" "),s("ul",[s("li",[t._v("安装依赖")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev @commitlint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("conventional@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),t._v(" @commitlint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cli@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("项目根目录下创建 "),s("strong",[t._v("commitlint.config.js")]),t._v("（ 增加配置项 "),s("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint/blob/master/@commitlint/config-conventional/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("config-conventional 默认配置点击可查看"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 继承的规则")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义规则类型")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type 类型定义，表示 git 提交的 type 必须在以下类型范围内")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'type-enum'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前验证的错误级别")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'always'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在什么情况下进行验证")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新功能 feature")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修复 bug")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'docs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档注释")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码格式(不影响代码运行的变动)")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'refactor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重构(既不增加新功能，也不是修复bug)")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'perf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 性能优化")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 增加测试")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chore'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建过程或辅助工具的变动")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'revert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// subject 大小写不做校验")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'subject-case'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("blockquote",[s("p",[s("strong",[t._v("注意：确保保存为 "),s("code",[t._v("UTF-8")]),t._v(" 的编码格式")]),t._v("，否则可能会出现以下错误：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/ab0a49087035441597a519bda5d173a0.jpeg#pic_center",alt:"在这里插入图片描述"}})])]),t._v(" "),s("p",[t._v("2、"),s("strong",[t._v("husky")])]),t._v(" "),s("ul",[s("li",[t._v("安装依赖")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm install husky@"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("启动 "),s("code",[t._v("hooks")]),t._v(" ， 生成 "),s("code",[t._v(".husky")]),t._v(" 文件夹")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npx husky install\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/181c162733654366a4a64ddf574573d3.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ul",[s("li",[t._v("在 "),s("code",[t._v("package.json")]),t._v(" 中生成 "),s("code",[t._v("prepare")]),t._v(" 指令")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/968eb37a845b4890ba8be15019e2033c.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ul",[s("li",[t._v("执行 "),s("code",[t._v("prepare")]),t._v(" 指令")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npm run prepare\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/9cb83724220445cc9ef73d0521dceb45.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ul",[s("li",[t._v("添加 "),s("code",[t._v("commitlint")]),t._v(" 的 "),s("code",[t._v("hook")]),t._v(" 到 "),s("code",[t._v("husky")]),t._v("中，并指令在 "),s("code",[t._v("commit-msg")]),t._v(" 的 "),s("code",[t._v("hooks")]),t._v(" 下执行 "),s("code",[t._v('npx --no-install commitlint --edit "$1"')]),t._v(" 指令")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("npx husky add "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("husky"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("msg "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npx --no-install commitlint --edit \"$1\"'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("此时的 "),s("code",[t._v(".husky")]),t._v(" 的文件结构")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/3fa8f61a4d884c55a94535d478b66c27.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("br"),t._v(" "),s("p",[s("strong",[t._v("至此， 不符合规范的 commit 将不再可提交：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/125eb204a1c44246a584b288aa1af693.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("tips:")]),t._v(" "),s("p",[t._v("到这里就已经完成了 90% 了")]),t._v(" "),s("p",[t._v("而其中的 9% 是："),s("strong",[t._v("对代码进行规范化")]),t._v("，在这之前我们通过 "),s("code",[t._v("ESLint")]),t._v(" 与 "),s("code",[t._v("Prettier")]),t._v(" 配合解决代码格式问题，解决的是本地代码的格式化问题，并没有解决代码提交到仓库或远程仓库时代码是否符合规范")]),t._v(" "),s("p",[t._v("因此下面内容就使用到了 Git Hook 的另外一条钩子 "),s("strong",[t._v("pre-commit")]),t._v("  对代码进行规范化")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"七、pre-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、pre-commit"}},[t._v("#")]),t._v(" 七、pre-commit")]),t._v(" "),s("p",[t._v("实现代码规范化")]),t._v(" "),s("p",[t._v("则那么想要完成这么一个操作就需要使用 "),s("code",[t._v("husky")]),t._v(" 配合 "),s("code",[t._v("eslint")]),t._v(" 才可以实现。")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("执行 "),s("code",[t._v('npx husky add .husky/pre-commit "npx eslint --ext .js,.vue src"')]),t._v(" 添加 "),s("code",[t._v("commit")]),t._v(" 时的 "),s("code",[t._v("hook")]),t._v(" （"),s("code",[t._v("npx eslint --ext .js,.vue src")]),t._v(" 会在执行到该 hook 时运行）")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('npx husky add .husky/pre-commit "npx eslint --ext .js,.vue src\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("由于项目是 vue 项目，使用 eslint 检测的文件为 src 目录下的  .vue、.js")])])]),t._v(" "),s("li",[s("p",[t._v("该操作会生成对应文件 "),s("code",[t._v("pre-commit")]),t._v("：")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/a024356cebdb47868a5a0caab28fd9f5.jpeg#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("关闭 "),s("code",[t._v("VSCode")]),t._v(" 的自动保存操作")])]),t._v(" "),s("li",[s("p",[t._v("修改一处代码，使其不符合 "),s("code",[t._v("ESLint")]),t._v(" 校验规则")])]),t._v(" "),s("li",[s("p",[t._v("执行 "),s("strong",[t._v("提交操作")]),t._v(" 会发现，抛出一系列的错误，代码无法提交")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("PS F:\\xxxxxxxxxxxxxxxxxxx\\hm-admin> git commit -m 'test'\n\nF:\\xxxxxxxxxxxxxxxx\\hm-admin\\src\\views\\Home.vue\n  13:9  error  Strings must use singlequote  quotes\n\n✖ 1 problem (1 error, 0 warnings)\n  1 error and 0 warnings potentially fixable with the `--fix` option.\n\nhusky - pre-commit hook exited with code 1 (error)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])])])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("tips:")]),t._v(" "),s("p",[t._v("上诉操作如果代码不符合 "),s("code",[t._v("ESLint")]),t._v(" 校验规则时，提交代码我们是提交不了的，我们只能根据提示回去修改修改。但如果错误很多的时候，我们该怎么处理？")]),t._v(" "),s("p",[t._v("剩下 1% 的内容就是为了解决这个问题的。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"八、lint-staged"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、lint-staged"}},[t._v("#")]),t._v(" 八、lint-staged")]),t._v(" "),s("p",[t._v("上面我们通过 "),s("code",[t._v("pre-commit")]),t._v(" 处理了 "),s("strong",[t._v("检测代码的提交规范问题，当我们进行代码提交时，会检测所有的代码格式规范")])]),t._v(" "),s("p",[t._v("但是这样会存在两个问题：")]),t._v(" "),s("ol",[s("li",[t._v("我们只修改了个别的文件，没有必要检测所有的文件代码格式")]),t._v(" "),s("li",[t._v("它只能给我们提示出对应的错误，我们还需要手动的进行代码修改")])]),t._v(" "),s("p",[t._v("lint-staged ：就是处理这两个问题的（"),s("strong",[t._v("自动修复格式错误")]),t._v("）")]),t._v(" "),s("br"),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),s("OutboundLink")],1),t._v(" 无需单独安装，我们生成项目时，"),s("code",[t._v("vue-cli")]),t._v(" 已经帮助我们安装过了，所以我们直接使用就可以了")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("修改 "),s("code",[t._v("package.json")]),t._v(" 配置")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"lint-staged": {\n    "src/**/*.{js,vue}": [\n      "eslint --fix",\n      "git add"\n    ]\n  }\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("修改 "),s("code",[t._v(".husky/pre-commit")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token hashbang comment"}},[t._v("#!/bin/sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\nnpx lint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("再次执行提交代码")])]),t._v(" "),s("li",[s("p",[t._v("发现 "),s("strong",[t._v("暂存区中")]),t._v(" 不符合 "),s("code",[t._v("ESlint")]),t._v(" 的内容，被自动修复")])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"九、没了没了-终于整理完了-一个下午的时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、没了没了-终于整理完了-一个下午的时间"}},[t._v("#")]),t._v(" 九、没了没了，终于整理完了，一个下午的时间")])])}),[],!1,null,null,null);s.default=r.exports}}]);