(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{456:function(t,e,a){"use strict";a.r(e);var r=a(2),_=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"vue3-为何比-vue2-快"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue3-为何比-vue2-快"}},[t._v("#")]),t._v(" vue3 为何比 vue2 快")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vue-next-template-explorer.netlify.app/",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试环境：https://vue-next-template-explorer.netlify.app/"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1、proxy-响应式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、proxy-响应式"}},[t._v("#")]),t._v(" 1、proxy 响应式")]),t._v(" "),e("p",[t._v("vue3 优缺点：")]),t._v(" "),e("ul",[e("li",[t._v("深度监听性能更好")]),t._v(" "),e("li",[t._v("可监听 新增 / 删除 属性")]),t._v(" "),e("li",[t._v("可监听数组变化")]),t._v(" "),e("li",[t._v("Proxy 能规避 Object.defineProxy 的问题")]),t._v(" "),e("li",[t._v("Proxy 无法兼容所有浏览器，无法 polyfill")])]),t._v(" "),e("p",[t._v("vue2 优缺点：")]),t._v(" "),e("ul",[e("li",[t._v("可以兼容其他浏览器")]),t._v(" "),e("li",[t._v("深度监听需要一次性递归")]),t._v(" "),e("li",[t._v("无法监听 新增 \\ 删除 属性")]),t._v(" "),e("li",[t._v("无法原生监听数组，需要特殊处理")])]),t._v(" "),e("blockquote",[e("p",[t._v("详情看 "),e("a",{attrs:{href:"https://hhmax.xyz/blogs/Vue/proxy-defineProp.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("《对比 vue2与vue3 双向数据绑定原理》"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"_2、patchflag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、patchflag"}},[t._v("#")]),t._v(" 2、PatchFlag")]),t._v(" "),e("ul",[e("li",[t._v("编译模板时，动态结点做标记")]),t._v(" "),e("li",[t._v("标记，分为不同的类型，如 TEXT PROPS")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/3b6d9f916aee464cba94820d4e3c6430.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("ul",[e("li",[t._v("diff 算法时，可以区分静态节点，以及不同类型的动态节点")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/b3fa8249d2a2485294e02d06683ae773.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("blockquote",[e("p",[t._v("vue2 中所有节点都进行 diff 比较，而 vue3 中静态节点就不进行 diff 比较，仅比较动态节点")])]),t._v(" "),e("h3",{attrs:{id:"_3、hoistflag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、hoistflag"}},[t._v("#")]),t._v(" 3、hoistFlag")]),t._v(" "),e("ul",[e("li",[t._v("将静态节点的定义，提升到父作用域，缓存起来")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/e7c960f8fada4765a5fcc1ff674100c0.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("ul",[e("li",[t._v("多个相邻的静态节点，会被合并起来")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/01aa5046088e4f93a0066a1487405397.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("blockquote",[e("p",[t._v("当相邻静态节点，超过其内部设定的阈值时，会将相邻静态节点转成字符串拼接的方式进行合并，减少虚拟节点的创建")])]),t._v(" "),e("p",[e("strong",[t._v("典型的拿空间换时间的优化策略")])]),t._v(" "),e("h3",{attrs:{id:"_4、cachehandler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、cachehandler"}},[t._v("#")]),t._v(" 4、cacheHandler")]),t._v(" "),e("ul",[e("li",[t._v("将绑定在 dom 元素上的事件进行缓存")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/ce88418f1f924884a766e0e4538c550e.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("h3",{attrs:{id:"_5、ssr优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、ssr优化"}},[t._v("#")]),t._v(" 5、SSR优化")]),t._v(" "),e("ul",[e("li",[t._v("静态节点直接输出，绕过 vdom")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/febcd21a2195417d9e104c9b87da7317.png#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),e("ul",[e("li",[t._v("动态节点，还是需要动态渲染")])]),t._v(" "),e("h3",{attrs:{id:"_6、tree-shaking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、tree-shaking"}},[t._v("#")]),t._v(" 6、tree-shaking")]),t._v(" "),e("p",[t._v("根据 "),e("code",[t._v("<template></template>")]),t._v("中所使用的指令("),e("code",[t._v("v-if")]),t._v("，"),e("code",[t._v("v-model")]),t._v(" 等) 动态加载资源包，不会一次性全部加载出来。")]),t._v(" "),e("p",[e("audio",{attrs:{autoplay:"true",loop:"true"}},[e("source",{attrs:{src:"https://api.uomg.com/api/rand.music?sort=热歌榜"}})])])])}),[],!1,null,null,null);e.default=_.exports}}]);